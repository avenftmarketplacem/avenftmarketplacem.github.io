(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["NftMarketMain"],{"0186":function(e,t,n){},"067a":function(e,t,n){"use strict";n("0186")},"0deb":function(e,t,n){"use strict";n("771d")},"62a1":function(e,t,n){"use strict";n.r(t);var o=n("7a23");const c={class:"main-content"},a={class:"bg-white"},l={class:"padding-l-r-14"},r=["src"],s={key:0,class:"ad-tag"},i=["href","target"],h=["src"],d={key:0,class:"ad-tag"},b={class:"bgWhite padding-l-r-15",style:{"text-align":"left"}},m=["onClick"],j={class:"statistics"},g={class:"bgWhite padding-t-5"};function O(e,t,n,O,p,u){var k;const v=Object(o["resolveComponent"])("Nav"),f=Object(o["resolveComponent"])("router-link"),y=Object(o["resolveComponent"])("van-swipe-item"),w=Object(o["resolveComponent"])("van-swipe"),$=Object(o["resolveComponent"])("van-tab"),C=Object(o["resolveComponent"])("van-tabs"),_=Object(o["resolveComponent"])("hot");return Object(o["openBlock"])(),Object(o["createElementBlock"])("section",c,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(v),(null===(k=p.bannerList)||void 0===k?void 0:k.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:0,class:"swiper-container mt-10",autoplay:3e3,"lazy-render":""},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(p.bannerList,(t,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:n},{default:Object(o["withCtx"])(()=>{var n,c,a,l;return[null!==t&&void 0!==t&&null!==(n=t.render_link)&&void 0!==n&&null!==(c=n.startsWith)&&void 0!==c&&c.call(n,"route:")?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,to:null===t||void 0===t||null===(a=t.render_link)||void 0===a||null===(l=a.replace)||void 0===l?void 0:l.call(a,"route:",""),class:"swiper-link"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("img",{style:{width:"100%",height:"calc(100vw * 114 / 375)","border-radius":"4px"},src:t.picture_link},null,8,r),1===t.is_adv?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,Object(o["toDisplayString"])(e.$t("ad")),1)):Object(o["createCommentVNode"])("",!0)]),_:2},1032,["to"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:1,href:t.render_link||"javascript:void(0);",target:t.render_link?"_blank":"_self",class:"swiper-link",rel:"noopener noreferrer"},[Object(o["createElementVNode"])("img",{style:{width:"100%",height:"calc(100vw * 114 / 375)","border-radius":"4px"},src:t.picture_link},null,8,h),1===t.is_adv?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,Object(o["toDisplayString"])(e.$t("ad")),1)):Object(o["createCommentVNode"])("",!0)],8,i))]}),_:2},1024))),128))]),_:1})):Object(o["createCommentVNode"])("",!0)])]),Object(o["createElementVNode"])("div",b,[Object(o["createVNode"])(C,{"line-width":"0",background:"#fff",shrink:""},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(p.chainList,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])($,{key:t},{title:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("a",{class:Object(o["normalizeClass"])(["switch-chain",{active:e.chain==p.activeChain}]),href:"",onClick:Object(o["withModifiers"])(()=>{p.activeChain=e.chain},["stop","prevent"])},Object(o["toDisplayString"])(e.chain_showname),11,m)]),_:2},1024))),128))]),_:1})]),Object(o["createElementVNode"])("ul",j,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(p.totalStats.total_item||0,2,4,1e4)),1),p.totalStats.total_item_change>=0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,style:Object(o["normalizeStyle"])({color:e.$store.getters.upColor[3]})}," +"+Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_item_change/100||0,4)),5)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,style:Object(o["normalizeStyle"])({color:e.$store.getters.downColor[3]})},Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_item_change/100||0,4)||0),5)),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$t("items")),1)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(p.totalStats.total_market_cap||0,2,4,1e4)),1),p.totalStats.total_market_cap_change>=0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,style:Object(o["normalizeStyle"])({color:e.$store.getters.upColor[3]})}," +"+Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_market_cap_change/100||0,4)),5)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,style:Object(o["normalizeStyle"])({color:e.$store.getters.downColor[3]})},Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_market_cap_change/100||0,4)),5)),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$t("marketCap1")),1)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(p.totalStats.total_holder||0,2,4,1e4)),1),p.totalStats.total_holder_change>=0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,style:Object(o["normalizeStyle"])({color:e.$store.getters.upColor[3]})}," +"+Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_holder_change/100||0,4)),5)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,style:Object(o["normalizeStyle"])({color:e.$store.getters.downColor[3]})},Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_holder_change/100||0,4)),5)),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$t("holders")),1)]),Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(p.totalStats.total_volume||0,2,4,1e4)),1),p.totalStats.total_volume_chage>=0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,style:Object(o["normalizeStyle"])({color:e.$store.getters.upColor[3]})}," +"+Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_volume_chage/100||0,4)),5)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,style:Object(o["normalizeStyle"])({color:e.$store.getters.downColor[3]})},Object(o["toDisplayString"])(e.$f.formatPercent(p.totalStats.total_volume_chage/100||0,4)),5)),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$t("volume")),1)])]),Object(o["createElementVNode"])("div",g,[Object(o["createVNode"])(_,{ref:"ref_hot",chain:p.activeChain},null,8,["chain"])])])}var p=n("365c"),u=n("a85f"),k=n("e347"),v=n.n(k);const f={class:"flex-between mt-10 nav"},y=Object(o["createElementVNode"])("img",{src:v.a,alt:""},null,-1),w={class:"text-center"},$={class:"font-16 color-333 block"},C={key:0,class:"font-15 color-333 mt-15 tl line-height-22"},_={class:"mt-10"},N={class:"flex-start ml-10"},B=["src"],S={class:"color-333 font-14 font-weight-500 ml-3"},E={class:"iconfont icon-copy ml-3 color-999"},V=["onClick"],L={class:"ml-3"},D={class:"flex-center bottom mt-20"};function x(e,t,n,c,a,l){const r=Object(o["resolveComponent"])("van-button"),s=Object(o["resolveComponent"])("van-popup"),i=Object(o["resolveComponent"])("ChangeLang"),h=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",f,[y,Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont color-999 font-20","icon-"+l.language]),onClick:t[0]||(t[0]=Object(o["withModifiers"])(t=>e.$store.state.changeLangVisible=!0,["stop"]))},null,2),Object(o["createElementVNode"])("i",{class:"iconfont icon-gerenzhongxin ml-10 color-999 font-20",onClick:t[1]||(t[1]=e=>a.showPersonal=!0)})])]),Object(o["createVNode"])(s,{show:a.showPersonal,"onUpdate:show":t[3]||(t[3]=e=>a.showPersonal=e),style:{padding:"24px",width:"90%",background:"#fff"},round:"",closeable:""},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("span",$,Object(o["toDisplayString"])(e.$t("personal")),1),""!==e.$store.state.wallet&&""!==e.$store.state.currentAccount&&"importAddress"!==e.$store.state.wallet?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",C,[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",N,[l.netId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"font-12 img-icon",width:"20",src:`${e.$store.state.globalConfig.token_logo_url}chain/${l.netId}.png`,alt:"",srcset:""},null,8,B)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",S,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(l.currentAccount)+" ",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("i",E,null,512),[[h,e.$store.state.currentAccount]])])]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.balanceTokens,(t,n)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"flex-between bg-gray mt-5",key:n},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("balance")),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumUnit(t.amount||0,4))+" "+Object(o["toDisplayString"])(t.symbol||t.name),1)]))),128)),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.list,(t,n)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"mt-15",key:n,onClick:n=>e.$router.push(t.url)},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["iconfont color-999",t.icon])},null,2),Object(o["createElementVNode"])("span",L,Object(o["toDisplayString"])(t.name),1)],8,V))),128))])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",D,[""!==e.$store.state.wallet&&""!==e.$store.state.currentAccount&&"importAddress"!==e.$store.state.wallet?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"color-3F80F7 font-14",onClick:t[2]||(t[2]=Object(o["withModifiers"])((...e)=>l.disconnect&&l.disconnect(...e),["stop","prevent"]))},Object(o["toDisplayString"])(e.$t("disconnect")),1)):(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:1,style:{width:"100%","margin-top":"40px",height:"35px"},type:"primary",round:"",block:"",color:"#3F80F7",onClick:Object(o["withModifiers"])(l.connectMetaMask,["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("connectWallet")),1)]),_:1},8,["onClick"]))])])]),_:1},8,["show"]),Object(o["createVNode"])(i)],64)}var M=n("ddd2");function T(e,t,n,c,a,l){const r=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createBlock"])(r,{class:"language-popup",show:e.$store.state.changeLangVisible,"onUpdate:show":t[0]||(t[0]=t=>e.$store.state.changeLangVisible=t),actions:l.actions,"cancel-text":e.$t("cancel"),description:e.$t("switchLang"),teleport:"#app",onSelect:l.onSelect,"close-on-click-action":""},null,8,["show","actions","cancel-text","description","onSelect"])}var z={name:"ChangeLang",data(){return{show:!1}},computed:{language(){return this.$store.getters.language},actions(){let e=window.navigator.userAgent,t=/iphone|ipad|ipod/i.test(e)&&/ave\.ai/i.test(e);return[{name:this.$t("common.zh-cn"),value:"zh-cn",color:"zh-cn"===this.language?"#558BED":"#323233"},{name:this.$t("common.en"),value:"en",color:"en"===this.language?"#558BED":"#323233"},...t?[]:[{name:this.$t("common.zh-tw"),value:"zh-tw",color:"zh-tw"===this.language?"#558BED":"#323233"}]]}},methods:{onSelect(e){this.$store.commit("setLanguage",e.value)}}},P=(n("0deb"),n("6b0d")),A=n.n(P);const F=A()(z,[["render",T],["__scopeId","data-v-4878bf2e"]]);var I=F,U={name:"Nav",components:{ChangeLang:I},data(){return{showPersonal:!1}},computed:{list(){return[{name:this.$t("myNFT"),url:"/nftMarket/myNFT",icon:"icon-wodeNFT"},{name:this.$t("myOrder"),url:"/nftMarket/myOrder",icon:"icon-wodedingdan"}]},balanceTokens(){return this.$store.getters.balanceTokens},name(){return this.$store.getters.netName},netId(){return console.log("netId",this.$store.getters.netId),this.$store.getters.netId},currentAccount(){return this.$store.state.currentAccount.slice(0,4)+"..."+this.$store.state.currentAccount.slice(-4)},language(){return this.$store.getters.language}},watch:{showPersonal(e){1==e&&this.$store.dispatch("getUserTokenList")}},mounted(){},methods:{connectMetaMask(){window.ethereum?Object(M["a"])().then(e=>{e&&this.$store.state.currentAccount&&this.$store.dispatch("getUserTokenList")}).catch(e=>{this.$toast(e),console.log(e)}):this.$toast("no wallet environment")},disconnect(){this.$store.dispatch("disconnect")},getBalance(e){Object(p["h"])(e).then(e=>{this.balance=e}).catch(e=>{console.log("getBalance",e)})},getTokenBalance(e,t){Object(p["K"])(e,t).then(e=>{this.balanceRose=e}).catch(e=>{console.log("getTokenBalance",e)})}}};const R=A()(U,[["render",x]]);var W=R,H={name:"Main",data(){const e=[{name:"24 H",value:"24h"},{name:"3 D",value:"3day"},{name:"7 D",value:"7day"},{name:"30 D",value:"30day"}],t=[{name:this.$t("all"),value:"all"},{name:"ETH",value:"eth"},{name:"BSC",value:"bsc"}];return{bannerList:[],hotList:[],totalStats:{},newestList:[],recommendList:[],checked:"1",time:e[0],timeList:e,timeListShow:!1,nftChainList:t,nftChainListShow:!1,nftChain:t[0],activeChain:"fsc"==this.$store.getters.netId||"core"==this.$store.getters.netId?this.$store.getters.netId:"fsc",chainList:[],supportProjectList:[]}},computed:{chainConfig(){return this.$store.state.chainConfig},language(){return this.$store.getters.language},netId(){return this.$store.getters.netId}},components:{Nav:W,Hot:u["a"]},watch:{netId(e){if(e){var t;let n=(null===(t=this.chainList)||void 0===t?void 0:t.filter(t=>t.chain==e))||[];this.activeChain=n.length>0?e:"fsc"}},activeChain(e,t){if(e){var n;let t=(null===(n=this.chainList)||void 0===n?void 0:n.filter(t=>t.chain==e))||[];this.supportProjectList=null===t||void 0===t?void 0:t[0].NFT_Market_Config_Collection,this.$refs.ref_hot.init(this.supportProjectList,e),this.getTotalStats(e)}},language(){this.getNftBanners()}},mounted(){this.getNftBanners(),this.getMarketConfig()},methods:{getMarketConfig(){Object(p["s"])().then(e=>{var t;this.chainList=e||[],console.log("-------getMarketConfig----------",e),this.$store.commit("setMarketConfig",e);let n=(null===(t=this.chainList)||void 0===t?void 0:t.filter(e=>e.chain==this.netId))||[];n.length>0?(this.activeChain=n[0].chain,this.supportProjectList=n[0].NFT_Market_Config_Collection):(this.activeChain=this.chainList[0].chain,this.supportProjectList=this.chainList[0].NFT_Market_Config_Collection),this.getTotalStats(this.activeChain),this.$refs.ref_hot.init(this.supportProjectList,this.activeChain)})},getNftBanners(){Object(p["w"])().then(e=>{this.bannerList=e})},getTotalStats(e){Object(p["P"])({chain:e}).then(e=>{this.totalStats=e})},getNewest(){Object(p["v"])().then(e=>{this.newestList=e})},getRecommend(){Object(p["E"])({chain:this.nftChain.value,pageNO:1,pageSize:10}).then(e=>{this.recommendList=e})},getTradeRank(){Object(p["Q"])({interval:this.time.value}).then(e=>{const t=(null===e||void 0===e?void 0:e.map(e=>({...e,change:e.volume_change})))||[],n=Math.ceil(t.length/3),o=3,c=Array.from(new Array(n),()=>new Array(o));let a=0;for(let l=0;l<n;l++)for(let e=0;e<o;e++)c[l][e]=t[a],a++;this.hotList=c})},getMarketCapRank(){Object(p["r"])({interval:this.time.value}).then(e=>{const t=(null===e||void 0===e?void 0:e.map(e=>({...e,change:e.market_cap_change})))||[],n=Math.ceil(t.length/3),o=3,c=Array.from(new Array(n),()=>new Array(o));let a=0;for(let l=0;l<n;l++)for(let e=0;e<o;e++)c[l][e]=t[a],a++;this.hotList=c})},clickTime(e){this.timeListShow=!1,this.time=e},clickNftChain(e){this.nftChainListShow=!1,this.nftChain=e},jumpDetails(e){this.$router.push({path:"/nftMarket/details",query:{id:e.id}})}}};n("067a");const J=A()(H,[["render",O],["__scopeId","data-v-4a881e2c"]]);t["default"]=J},"771d":function(e,t,n){},e347:function(e,t,n){e.exports=n.p+"static/img/logo.6d134e88.svg"}}]);